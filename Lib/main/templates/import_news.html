<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="content-type" content="text/html;charset=UTF-8" />
		<meta http-equiv="keywords" content=""/>
		<meta name="author" content="ZhangWeiJian"/>
	    <link href="../static/css/layui.css" rel="stylesheet" />

		<script type="text/javascript" src="../static/scripts/jquery.js"></script>
        <script type="text/javascript" src="../static/scripts/layui.all.js"></script>
		<title>导入新闻</title>
	</head>
    <body>
        <div class="layui-card">
    <div class="layui-card-header">Uploading data</div>
    <div class="layui-card-body">
        <button type="button" class="layui-btn layui-btn-radius layui-btn-primary" id="test1">
            <i class="layui-icon">&#xe67c;</i>Upload
        </button>
    </div>
</div>
    </body>
    
<script>
    layui.use(['table', 'layer', 'form', 'layedit', 'flow', 'upload'], function () {
        var table = layui.table;
        var form = layui.form;
        var $ = layui.$;
        var upload = layui.upload;
        var flow = layui.flow;
        //当你执行这样一个方法时，即对页面中的全部带有lay-src的img元素开启了懒加载（当然你也可以指定相关img）
        flow.lazyimg();
        
        //执行实例
        var uploadInst = upload.render({
            elem: '#test1' //绑定元素
          , url: 'http://127.0.0.1:8000/importNews' //上传接口
          , accept: 'file' //允许上传的文件类型
          , done: function (res) {
              //上传完毕回调
              layer.msg("上传完成!");
          }
          , error: function () {
              //请求异常回调
          }
        });



    });
</script>
</html>